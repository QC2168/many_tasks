{"version":3,"sources":["webpack:///C:/Users/qiancheng/Documents/HBuilderProjects/多多/main.js","webpack:///C:/Users/qiancheng/Documents/HBuilderProjects/多多/pages/placeOrder/placeOrder.vue?e486","webpack:///C:/Users/qiancheng/Documents/HBuilderProjects/多多/pages/placeOrder/placeOrder.vue?0052","webpack:///C:/Users/qiancheng/Documents/HBuilderProjects/多多/pages/placeOrder/placeOrder.vue?6e97","webpack:///C:/Users/qiancheng/Documents/HBuilderProjects/多多/pages/placeOrder/placeOrder.vue?442f","webpack:///C:/Users/qiancheng/Documents/HBuilderProjects/多多/pages/placeOrder/placeOrder.vue","webpack:///C:/Users/qiancheng/Documents/HBuilderProjects/多多/pages/placeOrder/placeOrder.vue?e2c3"],"names":["createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped","onLoad","option","getData","orderSn","created","uni","getStorage","key","success","res","headerData","token","data","action","content","filesArr","pic_list","methods","$u","get","then","paramCheck","test","empty","showToast","title","icon","postOrder","forEach","item","JSON","parse","response","push","post","stringify","msg","setTimeout","navigateBack","delta","onUploaded","lists","error","oversize"],"mappings":";;;;wEAAA,qBAAmB,8BACnB,sBACA,oD,mDACAA,EAAWC,a;;;;2DCHX,4TACIC,EADJ,iHASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,WACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,mFACZ,aAAAF,E;;;;2GCvBf,m0B;;;;2GCAA,8LAAIG,EAAa,CACf,YAAa,WACX,OAAO,mMAIT,WAAY,WACV,OAAO,6LAIT,SAAU,WACR,OAAO,kLAKPC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G;;;;2DCxBvB,2eAAsqB,eAAG,G;;;;imBCqDzpB,CACRC,OAAO,SAASC,GACZT,KAAKU,QAAQD,EAAOE,SACpBX,KAAKW,QAAQF,EAAOE,SAExBC,QALQ,WAKE,IAAD,OAELC,EAAIC,WAAW,CACXC,IAAI,QACJC,QAAQ,SAACC,GACL,EAAKC,WAAWC,MAAMF,EAAIG,SAI5CA,KAdc,WAeb,MAAO,CACMC,OAAO,wDACnBC,QAAQ,GACIX,QAAQ,KACRO,WAAW,GACXK,SAAS,GACTC,SAAS,GACTJ,KAAK,KAIbK,QAAQ,CAEEf,QAFF,SAEUC,GAAS,IAAD,qIACZ,EAAKe,GAAGC,IAAI,uBAAuB,CAAChB,YAAUiB,MAAK,SAAAX,GACzD,EAAKG,KAAKH,EAAIG,QAFI,8CAMtBS,WARI,WASA,OAAG7B,KAAK0B,GAAGI,KAAKC,MAAM/B,KAAKuB,YAAWvB,KAAK0B,GAAGI,KAAKC,MAAM/B,KAAKsB,WAC1DT,EAAImB,UAAU,CACVC,MAAM,cACNC,KAAK,UAEF,IAITC,UAlBF,WAkBc,IAAD,wHACT,EAAKN,aADI,wDAKb,EAAKN,SAASa,SAAQ,SAACC,GAEnB,IAAIpB,EAAIqB,KAAKC,MAAMF,EAAKG,UAC3B,EAAKhB,SAASiB,KAAKxB,EAAIG,SARX,SAWP,EAAKM,GAAGgB,KAAK,eAAe,CAC9B/B,QAAQ,EAAKA,QACbW,QAAQ,EAAKA,QACbE,SAASc,KAAKK,UAAU,EAAKnB,YAC9BI,MAAK,SAAAX,GACJJ,EAAImB,UAAU,CACVC,MAAMhB,EAAI2B,MAEdC,YAAW,WACRhC,EAAIiC,aAAa,CACbC,MAAM,MAEX,QAvBO,8CA4BhBC,WA9CG,SA8CQC,GACRjD,KAAKuB,SAAW0B,GAGRC,MAlDR,SAkDcjC,GACFJ,EAAImB,UAAU,CACVC,MAAO,WACPC,KAAM,UAKdiB,SA1DR,WA2DYtC,EAAImB,UAAU,CACVC,MAAO,aACPC,KAAM,Y;;;;2DC5ItC,m2BAAwuC,eAAG,G","file":"pages/placeOrder/placeOrder.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/placeOrder/placeOrder.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./placeOrder.vue?vue&type=template&id=cb50d058&scoped=true&\"\nvar renderjs\nimport script from \"./placeOrder.vue?vue&type=script&lang=js&\"\nexport * from \"./placeOrder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./placeOrder.vue?vue&type=style&index=0&id=cb50d058&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cb50d058\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"C:/Users/qiancheng/Documents/HBuilderProjects/多多/pages/placeOrder/placeOrder.vue\"\nexport default component.exports","export * from \"-!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./placeOrder.vue?vue&type=template&id=cb50d058&scoped=true&\"","var components = {\n  \"u-divider\": function() {\n    return import(\n      /* webpackChunkName: \"node-modules/uview/components/u-divider/u-divider\" */ \"uview/components/u-divider/u-divider.vue\"\n    )\n  },\n  \"u-upload\": function() {\n    return import(\n      /* webpackChunkName: \"node-modules/uview/components/u-upload/u-upload\" */ \"uview/components/u-upload/u-upload.vue\"\n    )\n  },\n  \"u-icon\": function() {\n    return import(\n      /* webpackChunkName: \"node-modules/uview/components/u-icon/u-icon\" */ \"uview/components/u-icon/u-icon.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./placeOrder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./placeOrder.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\texport default {\n        onLoad:function(option){\n            this.getData(option.orderSn)\n            this.orderSn=option.orderSn;\n        },\n        created(){\n          // 为图片上传添加请求头\n            uni.getStorage({\n                key:'token',\n                success:(res)=>{\n                    this.headerData.token=res.data\n                }\n            })\n        },\n\t\tdata() {\n\t\t\treturn {\n                action:\"http://121.42.13.36:9000/api/v1/upload_task_order_pic\",\n\t\t\t\tcontent:\"\",\n                orderSn:null,\n                headerData:{},\n                filesArr:[],\n                pic_list:[],\n                data:[]\n                \n\t\t\t};\n\t\t},\n        methods:{\n            // 请求页面数据\n            async getData(orderSn){\n                await this.$u.get('/get_task_order_info',{orderSn}).then(res=>{\n                this.data=res.data    \n                })\n            },\n            // 验证参数\n            paramCheck(){\n                if(this.$u.test.empty(this.filesArr)&&this.$u.test.empty(this.content)){\n                    uni.showToast({\n                        title:\"图片和文字至少填写一项\",\n                        icon:\"none\"\n                    })\n                    return false;\n                }\n                return true;\n            },\n            async postOrder(){\n                if(!this.paramCheck())return;\n                // push 到要添加的订单队列中\n                //response是服务器返回数据\n                //将response 转 表达式\n                this.filesArr.forEach((item)=>{\n                    //将图片路径push到要上传的列表\n                    let res=JSON.parse(item.response)\n                 this.pic_list.push(res.data)\n                })\n                // 发送请求\n                await this.$u.post('/place_order',{\n                    orderSn:this.orderSn,\n                    content:this.content,\n                    pic_list:JSON.stringify(this.pic_list)\n                }).then(res=>{\n                    uni.showToast({\n                        title:res.msg,\n                    })\n                    setTimeout(()=>{\n                       uni.navigateBack({\n                           delta:1\n                       })\n                    },2000)\n                })\n               \n                \n            },\n            \tonUploaded(lists) {\n            \t\t\t\tthis.filesArr = lists;\n            \t\t\t},\n                        // 图片上传失败\n                        error(res) {\n                            uni.showToast({\n                                title: \"上传遇到未知错误\",\n                                icon: 'none'\n                            })\n                        \n                        },\n                        // 图片过大\n                        oversize() {\n                            uni.showToast({\n                                title: \"图片过大，请重新上传\",\n                                icon: 'none'\n                            })\n                        },\n        }\n\t}\n","import mod from \"-!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./placeOrder.vue?vue&type=style&index=0&id=cb50d058&lang=scss&scoped=true&\"; export default mod; export * from \"-!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./placeOrder.vue?vue&type=style&index=0&id=cb50d058&lang=scss&scoped=true&\""],"sourceRoot":""}